var P={},d={};Object.defineProperty(d,"__esModule",{value:!0});d.DefaultMap=void 0;class b extends Map{constructor(i,u){super(u),this._defaultFunc=i}get(i){let u=super.get(i);if(u===void 0){if(this.has(i))return u;u=this._defaultFunc(i),this.set(i,u)}return u}update(i,u){const f=u(this.get(i));return this.set(i,f),f}}d.DefaultMap=b;(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.DefaultMap=n.exceptionToError=n.exceptionToString=n.filterUndefined=n.mapFilterUndefined=n.hasOwnProperty=n.isEnumValue=n.definedMap=n.reduceTwo=n.sleep=n.dontAwait=n.defined=n.assertNever=n.assert=n.panic=n.proveNever=n.proveType=void 0;function i(e){}n.proveType=i;function u(e,r,t){return console.trace(r),t}n.proveNever=u;function f(e="This should not happen"){console.trace(e);debugger;throw new Error(e)}n.panic=f;function l(e,r="Assertion failed"){if(!e)return f(r)}n.assert=l;function s(e,r="`never` happened"){return f(r)}n.assertNever=s;function h(e,r){return e===void 0?f("Value was undefined but should be defined"+(r!==void 0?` because: ${r}`:"")):e}n.defined=h;function p(e){e instanceof Promise&&e.catch(r=>{throw console.trace("Unhandled error from unawaited promise",r),r})}n.dontAwait=p;function v(e){return new Promise(r=>{setTimeout(r,e)})}n.sleep=v;function w(e,r,t){return e===void 0?r:r===void 0?e:t(e,r)}n.reduceTwo=w;function y(e,r){if(e!==void 0)return r(e)}n.definedMap=y;function m(e,r){return Object.keys(e).map(t=>e[t]).some(t=>t===r)}n.isEnumValue=m;function T(e,r){return e==null?!1:Object.prototype.hasOwnProperty.call(e,r)}n.hasOwnProperty=T;function M(e,r){const t=[];let c=0;for(const O of e){const o=r(O,c);c+=1,o!==void 0&&t.push(o)}return t}n.mapFilterUndefined=M;function _(e){const r=[];for(const t of e)t!==void 0&&r.push(t);return r}n.filterUndefined=_;function a(e){if(e===void 0)return"";try{return e.toString()}catch(r){try{return`Exception can't be stringified: ${a(r)}`}catch{return"Exception can't be stringified"}}}n.exceptionToString=a;function g(e){return e instanceof Error?e:new Error(a(e))}n.exceptionToError=g;var E=d;Object.defineProperty(n,"DefaultMap",{enumerable:!0,get:function(){return E.DefaultMap}})})(P);export{P as d};
