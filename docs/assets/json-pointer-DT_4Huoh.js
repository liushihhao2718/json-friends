import{g as o}from"./@babel-BosuxZz1.js";import{f as p}from"./foreach-BOrx_fet.js";var l=p,g=e;function e(s,r,a){if(arguments.length===3)return e.set(s,r,a);if(arguments.length===2)return e.get(s,r);var t=e.bind(e,s);for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n].bind(t,s));return t}e.get=function(r,a){for(var t=Array.isArray(a)?a:e.parse(a),n=0;n<t.length;++n){var i=t[n];if(!(typeof r=="object"&&i in r))throw new Error("Invalid reference token: "+i);r=r[i]}return r};e.set=function(r,a,t){var n=Array.isArray(a)?a:e.parse(a),i=n[0];if(n.length===0)throw Error("Can not set the root object");for(var c=0;c<n.length-1;++c){var f=n[c];typeof f!="string"&&typeof f!="number"&&(f=String(f)),!(f==="__proto__"||f==="constructor"||f==="prototype")&&(f==="-"&&Array.isArray(r)&&(f=r.length),i=n[c+1],f in r||(i.match(/^(\d+|-)$/)?r[f]=[]:r[f]={}),r=r[f])}return i==="-"&&Array.isArray(r)&&(i=r.length),r[i]=t,this};e.remove=function(s,r){var a=Array.isArray(r)?r:e.parse(r),t=a[a.length-1];if(t===void 0)throw new Error('Invalid JSON pointer for remove: "'+r+'"');var n=e.get(s,a.slice(0,-1));if(Array.isArray(n)){var i=+t;if(t===""&&isNaN(i))throw new Error('Invalid array index: "'+t+'"');Array.prototype.splice.call(n,i,1)}else delete n[t]};e.dict=function(r,a){var t={};return e.walk(r,function(n,i){t[i]=n},a),t};e.walk=function(r,a,t){var n=[];t=t||function(i){var c=Object.prototype.toString.call(i);return c==="[object Object]"||c==="[object Array]"},function i(c){l(c,function(f,u){n.push(String(u)),t(f)?i(f):a(f,e.compile(n)),n.pop()})}(r)};e.has=function(r,a){try{e.get(r,a)}catch{return!1}return!0};e.escape=function(r){return r.toString().replace(/~/g,"~0").replace(/\//g,"~1")};e.unescape=function(r){return r.replace(/~1/g,"/").replace(/~0/g,"~")};e.parse=function(r){if(r==="")return[];if(r.charAt(0)!=="/")throw new Error("Invalid JSON pointer: "+r);return r.substring(1).split(/\//).map(e.unescape)};e.compile=function(r){return r.length===0?"":"/"+r.map(e.escape).join("/")};const v=o(g);export{v as j};
