{"version":3,"file":"vdirs-DL8EOfHr.js","sources":["../../node_modules/vdirs/es/mousemoveoutside.js","../../node_modules/vdirs/es/clickoutside.js","../../node_modules/vdirs/es/utils.js","../../node_modules/vdirs/es/zindexable/z-index-manager.js","../../node_modules/vdirs/es/zindexable/index.js"],"sourcesContent":["import { on, off } from 'evtd';\nconst ctxKey = '@@mmoContext';\nconst mousemoveoutside = {\n    mounted(el, { value }) {\n        el[ctxKey] = {\n            handler: undefined\n        };\n        if (typeof value === 'function') {\n            el[ctxKey].handler = value;\n            on('mousemoveoutside', el, value);\n        }\n    },\n    updated(el, { value }) {\n        const ctx = el[ctxKey];\n        if (typeof value === 'function') {\n            if (ctx.handler) {\n                if (ctx.handler !== value) {\n                    off('mousemoveoutside', el, ctx.handler);\n                    ctx.handler = value;\n                    on('mousemoveoutside', el, value);\n                }\n            }\n            else {\n                el[ctxKey].handler = value;\n                on('mousemoveoutside', el, value);\n            }\n        }\n        else {\n            if (ctx.handler) {\n                off('mousemoveoutside', el, ctx.handler);\n                ctx.handler = undefined;\n            }\n        }\n    },\n    unmounted(el) {\n        const { handler } = el[ctxKey];\n        if (handler) {\n            off('mousemoveoutside', el, handler);\n        }\n        el[ctxKey].handler = undefined;\n    }\n};\nexport default mousemoveoutside;\n","import { on, off } from 'evtd';\nconst ctxKey = '@@coContext';\nconst clickoutside = {\n    mounted(el, { value, modifiers }) {\n        el[ctxKey] = {\n            handler: undefined\n        };\n        if (typeof value === 'function') {\n            el[ctxKey].handler = value;\n            on('clickoutside', el, value, {\n                capture: modifiers.capture\n            });\n        }\n    },\n    updated(el, { value, modifiers }) {\n        const ctx = el[ctxKey];\n        if (typeof value === 'function') {\n            if (ctx.handler) {\n                if (ctx.handler !== value) {\n                    off('clickoutside', el, ctx.handler, {\n                        capture: modifiers.capture\n                    });\n                    ctx.handler = value;\n                    on('clickoutside', el, value, {\n                        capture: modifiers.capture\n                    });\n                }\n            }\n            else {\n                el[ctxKey].handler = value;\n                on('clickoutside', el, value, {\n                    capture: modifiers.capture\n                });\n            }\n        }\n        else {\n            if (ctx.handler) {\n                off('clickoutside', el, ctx.handler, {\n                    capture: modifiers.capture\n                });\n                ctx.handler = undefined;\n            }\n        }\n    },\n    unmounted(el, { modifiers }) {\n        const { handler } = el[ctxKey];\n        if (handler) {\n            off('clickoutside', el, handler, {\n                capture: modifiers.capture\n            });\n        }\n        el[ctxKey].handler = undefined;\n    }\n};\nexport default clickoutside;\n","const warnedMessages = new Set();\nexport function warnOnce(location, message) {\n    const mergedMessage = `[vdirs/${location}]: ${message}`;\n    if (warnedMessages.has(mergedMessage))\n        return;\n    warnedMessages.add(mergedMessage);\n}\nexport function warn(location, message) {\n    console.error(`[vdirs/${location}]: ${message}`);\n}\n","import { warn } from '../utils';\nclass ZIndexManager {\n    constructor() {\n        this.elementZIndex = new Map();\n        this.nextZIndex = 2000;\n    }\n    get elementCount() {\n        return this.elementZIndex.size;\n    }\n    ensureZIndex(el, zIndex) {\n        const { elementZIndex } = this;\n        if (zIndex !== undefined) {\n            el.style.zIndex = `${zIndex}`;\n            elementZIndex.delete(el);\n            return;\n        }\n        const { nextZIndex } = this;\n        if (elementZIndex.has(el)) {\n            const currentZIndex = elementZIndex.get(el);\n            if (currentZIndex + 1 === this.nextZIndex)\n                return;\n        }\n        el.style.zIndex = `${nextZIndex}`;\n        elementZIndex.set(el, nextZIndex);\n        this.nextZIndex = nextZIndex + 1;\n        this.squashState();\n    }\n    unregister(el, zIndex) {\n        const { elementZIndex } = this;\n        if (elementZIndex.has(el)) {\n            elementZIndex.delete(el);\n        }\n        else if (zIndex === undefined) {\n            warn('z-index-manager/unregister-element', 'Element not found when unregistering.');\n        }\n        this.squashState();\n    }\n    squashState() {\n        const { elementCount } = this;\n        if (!elementCount) {\n            this.nextZIndex = 2000;\n        }\n        if (this.nextZIndex - elementCount > 2500)\n            this.rearrange();\n    }\n    rearrange() {\n        const elementZIndexPair = Array.from(this.elementZIndex.entries());\n        elementZIndexPair.sort((pair1, pair2) => {\n            return pair1[1] - pair2[1];\n        });\n        this.nextZIndex = 2000;\n        elementZIndexPair.forEach((pair) => {\n            const el = pair[0];\n            const zIndex = this.nextZIndex++;\n            if (`${zIndex}` !== el.style.zIndex)\n                el.style.zIndex = `${zIndex}`;\n        });\n    }\n}\nexport default new ZIndexManager();\n","import zIndexManager from './z-index-manager';\nconst ctx = '@@ziContext';\n// We don't expect manually bound zindex should be changed\nconst zindexable = {\n    mounted(el, bindings) {\n        const { value = {} } = bindings;\n        const { zIndex, enabled } = value;\n        el[ctx] = {\n            enabled: !!enabled,\n            initialized: false\n        };\n        if (enabled) {\n            zIndexManager.ensureZIndex(el, zIndex);\n            el[ctx].initialized = true;\n        }\n    },\n    updated(el, bindings) {\n        const { value = {} } = bindings;\n        const { zIndex, enabled } = value;\n        const cachedEnabled = el[ctx].enabled;\n        if (enabled && !cachedEnabled) {\n            zIndexManager.ensureZIndex(el, zIndex);\n            el[ctx].initialized = true;\n        }\n        el[ctx].enabled = !!enabled;\n    },\n    unmounted(el, bindings) {\n        if (!el[ctx].initialized)\n            return;\n        const { value = {} } = bindings;\n        const { zIndex } = value;\n        zIndexManager.unregister(el, zIndex);\n    }\n};\nexport default zindexable;\n"],"names":["ctxKey","mousemoveoutside","el","value","on","ctx","off","handler","mousemoveoutside$1","clickoutside","modifiers","clickoutside$1","warn","location","message","ZIndexManager","zIndex","elementZIndex","nextZIndex","elementCount","elementZIndexPair","pair1","pair2","pair","zIndexManager","zindexable","bindings","enabled","cachedEnabled","zindexable$1"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4]}