import{j as ie,e as oe,P as ue,f as fe,h as pe,g as F,N as K,M as de,l as ce}from"./index-C8y3_XOT.js";import{M as ee,ab as ve,j as A,r as $,ac as he,K as ye,d as z,Q as me,ad as E,h as M,ae as ge,u as Se,P as V,af as be,J as _e,t as Y,ag as k,ah as we,ai as $e,aj as Re,ak as H,al as xe,_ as Ne,$ as je,a0 as _,a1 as m,a2 as Ae,a3 as S,a4 as P,a7 as Ce,a5 as Ge}from"./index-D6F9oJJ4.js";function Oe(e){if(typeof e=="number")return{"":e.toString()};const t={};return e.split(/ +/).forEach(n=>{if(n==="")return;const[r,s]=n.split(":");s===void 0?t[""]=r:t[r]=s}),t}function O(e,t){var n;if(e==null)return;const r=Oe(e);if(t===void 0)return r[""];if(typeof t=="string")return(n=r[t])!==null&&n!==void 0?n:r[""];if(Array.isArray(t)){for(let s=t.length-1;s>=0;--s){const a=t[s];if(a in r)return r[a]}return r[""]}else{let s,a=-1;return Object.keys(r).forEach(l=>{const i=Number(l);!Number.isNaN(i)&&t>=i&&i>=a&&(a=i,s=r[l])}),s}}function Ee(e){var t;const n=(t=e.dirs)===null||t===void 0?void 0:t.find(({dir:r})=>r===ee);return!!(n&&n.value===!1)}const Be={xs:0,s:640,m:1024,l:1280,xl:1536,"2xl":1920};function Ie(e){return`(min-width: ${e}px)`}const B={};function Me(e=Be){if(!ve)return A(()=>[]);if(typeof window.matchMedia!="function")return A(()=>[]);const t=$({}),n=Object.keys(e),r=(s,a)=>{s.matches?t.value[a]=!0:t.value[a]=!1};return n.forEach(s=>{const a=e[s];let l,i;B[a]===void 0?(l=window.matchMedia(Ie(a)),l.addEventListener?l.addEventListener("change",o=>{i.forEach(u=>{u(o,s)})}):l.addListener&&l.addListener(o=>{i.forEach(u=>{u(o,s)})}),i=new Set,B[a]={mql:l,cbs:i}):(l=B[a].mql,i=B[a].cbs),i.add(r),l.matches&&i.forEach(o=>{o(l,s)})}),he(()=>{n.forEach(s=>{const{cbs:a}=B[e[s]];a.has(r)&&a.delete(r)})}),A(()=>{const{value:s}=t;return n.filter(a=>s[a])})}const W=1,te=ye("n-grid"),re=1,De={span:{type:[Number,String],default:re},offset:{type:[Number,String],default:0},suffix:Boolean,privateOffset:Number,privateSpan:Number,privateColStart:Number,privateShow:{type:Boolean,default:!0}},Z=z({__GRID_ITEM__:!0,name:"GridItem",alias:["Gi"],props:De,setup(){const{isSsrRef:e,xGapRef:t,itemStyleRef:n,overflowRef:r,layoutShiftDisabledRef:s}=me(te),a=ge();return{overflow:r,itemStyle:n,layoutShiftDisabled:s,mergedXGap:A(()=>E(t.value||0)),deriveStyle:()=>{e.value;const{privateSpan:l=re,privateShow:i=!0,privateColStart:o=void 0,privateOffset:u=0}=a.vnode.props,{value:p}=t,d=E(p||0);return{display:i?"":"none",gridColumn:`${o??`span ${l}`} / span ${l}`,marginLeft:u?`calc((100% - (${l} - 1) * ${d}) / ${l} * ${u} + ${d} * ${u})`:""}}}},render(){var e,t;if(this.layoutShiftDisabled){const{span:n,offset:r,mergedXGap:s}=this;return M("div",{style:{gridColumn:`span ${n} / span ${n}`,marginLeft:r?`calc((100% - (${n} - 1) * ${s}) / ${n} * ${r} + ${s} * ${r})`:""}},this.$slots)}return M("div",{style:[this.itemStyle,this.deriveStyle()]},(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e,{overflow:this.overflow}))}}),Je={xs:0,s:640,m:1024,l:1280,xl:1536,xxl:1920},ne=24,U="__ssr__",Ve={layoutShiftDisabled:Boolean,responsive:{type:[String,Boolean],default:"self"},cols:{type:[Number,String],default:ne},itemResponsive:Boolean,collapsed:Boolean,collapsedRows:{type:Number,default:1},itemStyle:[Object,String],xGap:{type:[Number,String],default:0},yGap:{type:[Number,String],default:0}},Pe=z({name:"Grid",inheritAttrs:!1,props:Ve,setup(e){const{mergedClsPrefixRef:t,mergedBreakpointsRef:n}=Se(e),r=/^\d+$/,s=$(void 0),a=Me((n==null?void 0:n.value)||Je),l=V(()=>!!(e.itemResponsive||!r.test(e.cols.toString())||!r.test(e.xGap.toString())||!r.test(e.yGap.toString()))),i=A(()=>{if(l.value)return e.responsive==="self"?s.value:a.value}),o=V(()=>{var c;return(c=Number(O(e.cols.toString(),i.value)))!==null&&c!==void 0?c:ne}),u=V(()=>O(e.xGap.toString(),i.value)),p=V(()=>O(e.yGap.toString(),i.value)),d=c=>{s.value=c.contentRect.width},h=c=>{xe(d,c)},b=$(!1),g=A(()=>{if(e.responsive==="self")return h}),v=$(!1),y=$();return be(()=>{const{value:c}=y;c&&c.hasAttribute(U)&&(c.removeAttribute(U),v.value=!0)}),_e(te,{layoutShiftDisabledRef:Y(e,"layoutShiftDisabled"),isSsrRef:v,itemStyleRef:Y(e,"itemStyle"),xGapRef:u,overflowRef:b}),{isSsr:!ie,contentEl:y,mergedClsPrefix:t,style:A(()=>e.layoutShiftDisabled?{width:"100%",display:"grid",gridTemplateColumns:`repeat(${e.cols}, minmax(0, 1fr))`,columnGap:E(e.xGap),rowGap:E(e.yGap)}:{width:"100%",display:"grid",gridTemplateColumns:`repeat(${o.value}, minmax(0, 1fr))`,columnGap:E(u.value),rowGap:E(p.value)}),isResponsive:l,responsiveQuery:i,responsiveCols:o,handleResize:g,overflow:b}},render(){if(this.layoutShiftDisabled)return M("div",k({ref:"contentEl",class:`${this.mergedClsPrefix}-grid`,style:this.style},this.$attrs),this.$slots);const e=()=>{var t,n,r,s,a,l,i;this.overflow=!1;const o=$e(Re(this)),u=[],{collapsed:p,collapsedRows:d,responsiveCols:h,responsiveQuery:b}=this;o.forEach(f=>{var w,N,x,C,T;if(((w=f==null?void 0:f.type)===null||w===void 0?void 0:w.__GRID_ITEM__)!==!0)return;if(Ee(f)){const G=H(f);G.props?G.props.privateShow=!1:G.props={privateShow:!1},u.push({child:G,rawChildSpan:0});return}f.dirs=((N=f.dirs)===null||N===void 0?void 0:N.filter(({dir:G})=>G!==ee))||null,((x=f.dirs)===null||x===void 0?void 0:x.length)===0&&(f.dirs=null);const Q=H(f),X=Number((T=O((C=Q.props)===null||C===void 0?void 0:C.span,b))!==null&&T!==void 0?T:W);X!==0&&u.push({child:Q,rawChildSpan:X})});let g=0;const v=(t=u[u.length-1])===null||t===void 0?void 0:t.child;if(v!=null&&v.props){const f=(n=v.props)===null||n===void 0?void 0:n.suffix;f!==void 0&&f!==!1&&(g=Number((s=O((r=v.props)===null||r===void 0?void 0:r.span,b))!==null&&s!==void 0?s:W),v.props.privateSpan=g,v.props.privateColStart=h+1-g,v.props.privateShow=(a=v.props.privateShow)!==null&&a!==void 0?a:!0)}let y=0,c=!1;for(const{child:f,rawChildSpan:w}of u){if(c&&(this.overflow=!0),!c){const N=Number((i=O((l=f.props)===null||l===void 0?void 0:l.offset,b))!==null&&i!==void 0?i:0),x=Math.min(w+N,h);if(f.props?(f.props.privateSpan=x,f.props.privateOffset=N):f.props={privateSpan:x,privateOffset:N},p){const C=y%h;x+C>h&&(y+=h-C),x+y+g>d*h?c=!0:y+=x}}c&&(f.props?f.props.privateShow!==!0&&(f.props.privateShow=!1):f.props={privateShow:!1})}return M("div",k({ref:"contentEl",class:`${this.mergedClsPrefix}-grid`,style:this.style,[U]:this.isSsr||void 0},this.$attrs),u.map(({child:f})=>f))};return this.isResponsive&&this.responsive==="self"?M(we,{onResize:this.handleResize},{default:e}):e()}});var Te="Missing separator option.",Ue="Your JSON must be an array or an object.",se="Item in array is not an object: {0}";function ae(e,t){t||(t=[]);function n(y,c){var f=y.slice(0);if(!Array.isArray(c))return f;for(var w=0;w<c.length;w++)f.indexOf(c[w])===-1&&f.push(c[w]);return f}function r(y,c){y=y||{};for(var f in c)typeof c[f]=="object"?y[f]=r(y[f],c[f]):y[f]=c[f];return y}for(var s=[],a=0;a<e.length;a++){var l=e[a],i={},o={},u=1;if(l!=null&&(!D(l)||Array.isArray(l)))throw se.replace("{0}",JSON.stringify(l));for(var p=q(l),d=0;d<p.length;d++){var h=l[p[d]],b=n(t,[p[d]]),g=b.join(".");Array.isArray(h)?(o[g]=ae(h,b),u+=o[g].length):i[g]=h}if(u==1)s.push(i);else for(var p=q(o),d=0;d<p.length;d++)for(var g=p[d],v=0;v<o[g].length;v++)s.push(r(r({},i),o[g][v]))}return s}function D(e){return e&&typeof e=="object"}function q(e){return D(e)?Object.keys(e):[]}function qe(e,t){if(t||(t={}),!D(e))throw Ue;Array.isArray(e)||(e=[e]);var n=t.separator||",";if(!n)throw Te;var r=t.flatten||!1;r&&(e=ae(e));for(var s=[],a=[],l=0;l<e.length;l++){var i=e[l],o={};if(i!=null&&(!D(i)||Array.isArray(i)))throw se.replace("{0}",JSON.stringify(i));for(var u=q(i),p=0;p<u.length;p++){var d=u[p];s.indexOf(d)===-1&&s.push(d);var h=i[d];h===void 0&&h===null||(typeof h=="string"?(o[d]='"'+h.replace(/"/g,t.output_csvjson_variant?'\\"':'""')+'"',t.output_csvjson_variant&&(o[d]=o[d].replace(/\n/g,"\\n"))):(o[d]=JSON.stringify(h),!t.output_csvjson_variant&&(D(h)||Array.isArray(h))&&(o[d]='"'+o[d].replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"')))}a.push(o)}const b=[];for(var l=0;l<s.length;l++)b.push('"'+s[l].replace(/"/g,t.output_csvjson_variant?'\\"':'""')+'"');for(var g=b.join(n)+`
`,v=0;v<a.length;v++){for(var o=a[v],y=[],p=0;p<s.length;p++){var d=s[p];y.push(o[d]||(t.output_csvjson_variant?"null":""))}g+=y.join(n)+(v<a.length-1?`
`:"")}return g}let le=[],J=[],R=[];function Le(e,t="ObjectType"){for(le=[],J=[],R=[],R.push([t,L(e)]),console.log(R);R.length>0;){const[n,r]=R.shift();console.log(n,r),ze(n,r)}return J.join(`

`)}function ze(e,t){if(j(t))J.push(["/**",` * @typedef ${e}`,` * @property {${t}}`," */"].join(`
`));else if(Array.isArray(t))if(t.length==1){if(j(t[0]))return` * @property {${t[0]}[]} ${e}`;{const n=I(e);return R.push([n,t[0]]),` * @property {${n}[]} ${e}`}}else{const n=t.map((r,s)=>{if(j(r))return r;{const a=I(e)+"_"+s;return R.push([a,r]),a}});J.push(["/**",` * @typedef {Array<${n.join(" | ")}>} ${e}`," */"].join(`
`))}else J.push(["/**",` * @typedef ${e}`,...Object.entries(t).map(([n,r])=>{if(Array.isArray(r))if(r.length==1){if(j(r[0]))return` * @property {${r[0]}[]} ${n}`;{const s=I(n);return R.push([s,r[0]]),` * @property {${s}[]} ${n}`}}else return` * @property {Array<${r.map((a,l)=>{if(j(a))return a;{const i=I(n)+"_"+l;return R.push([i,a]),i}}).join(" | ")}>} ${n}`;if(j(r))return` * @property {${r}} ${n}`;{const s=I(n);return R.push([s,r]),` * @property {${s}} ${n}`}})," */"].join(`
`))}function I(e){return e.charAt(0).toUpperCase()+e.slice(1)}function L(e,t=0){if(t>10)throw Error("object too deep.");if(e==="")return"string";if(!e)return"null";if(Array.isArray(e)){if(e.length===0)return"array";const a=[];return e.forEach((l,i)=>{const o=L(l,t++);a.find(u=>Qe(u,o))||(j(o)||le.push(o),a.push(o))}),a}const n=typeof e;if(n!=="object")return n;const r=Object.entries(e);if(r.length==0)return"object";const s=r.map(a=>{const[l,i]=a;return[l,L(i,t+1)]});return Object.fromEntries(s)}function Qe(e,t){return JSON.stringify(e)===JSON.stringify(t)}function j(e){return["string","number","bigint","boolean","undefined","symbol","null","object"].includes(e)}const Ke=z({__name:"JsonConvertor",setup(e){const t=$(""),n=$(localStorage.getItem("input_str")||""),r=$(""),s=$(!1),a=$("jsdoc"),l=[{label:"CSV",value:"csv"},{label:"JsDoc",value:"jsdoc"}];function i(){try{const o=ce.parse(n.value);if(t.value=JSON.stringify(o,null,2),a.value=="csv"){const u=qe(o);r.value=u}else if(a.value="jsdoc"){const u=Le(o);r.value=u}localStorage.setItem("input_str",t.value)}catch(o){r.value=o.toString()}}return Ne([n,s],async(o,u)=>{s.value&&i()}),(o,u)=>(Ae(),je(m(P),{vertical:"",style:{width:"100%",overflow:"scroll",gap:"0"}},{default:_(()=>[S(m(P),{style:{padding:"4px 6px","flex-grow":"1","border-bottom":"1px solid var(--n-border-color)"}},{default:_(()=>[S(m(Pe),{"x-gap":"8",cols:2},{default:_(()=>[S(m(Z),null,{default:_(()=>[S(m(P),{justify:"start",style:{"column-gap":"2px","align-items":"center"}},{default:_(()=>[S(m(oe),{onClick:u[0]||(u[0]=p=>i())},{default:_(()=>[Ce("Run "),S(m(Ge),{size:"20",style:{"margin-left":"5px"}},{default:_(()=>[S(m(ue))]),_:1})]),_:1}),S(m(fe),{size:"small",label:"auto",checked:s.value,"onUpdate:checked":u[1]||(u[1]=p=>s.value=p)},null,8,["checked"])]),_:1})]),_:1}),S(m(Z),{style:{display:"block"}},{default:_(()=>[S(m(pe),{style:{width:"150px"},value:a.value,"onUpdate:value":u[2]||(u[2]=p=>a.value=p),options:l},null,8,["value"])]),_:1})]),_:1})]),_:1}),S(m(de),{style:{height:"calc(100% - var(--header-height))"}},{default:_(()=>[S(m(F),{size:50},{default:_(()=>[S(m(K),{style:{height:"100%",overflow:"scroll"},value:n.value,"onUpdate:value":u[3]||(u[3]=p=>n.value=p),type:"textarea",placeholder:'JSON Text { "a" : "123" }'},null,8,["value"])]),_:1}),S(m(F),{size:50,style:{height:"100%","align-items":"flex-start"}},{default:_(()=>[S(m(P),{vertical:"",style:{height:"100%",width:"100%",overflow:"scroll"}},{default:_(()=>[S(m(K),{style:{height:"100%",overflow:"scroll"},value:r.value,"onUpdate:value":u[4]||(u[4]=p=>r.value=p),type:"textarea"},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1}))}});export{Ke as default};
//# sourceMappingURL=JsonConvertor-Dqs7ykZk.js.map
